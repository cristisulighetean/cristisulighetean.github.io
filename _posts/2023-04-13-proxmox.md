---
layout: post
title: "Budget Home Lab Server: Deploying Proxmox on a Mini-PC"
tags: [proxmox, homelab]
---

Why you should look into using Proxmox for a home lab

## Intro

For some time, I had been using a Jetson Nano as a mini home server, accommodating several containers, Jellyfin, Grafana, and an SMB server. However, as I embarked on my DevOps journey, I quickly discovered that the Jetson Nano's processing power and flexibility were no longer adequate. To manage multiple VMs and containers, I required a more powerful solution. That's when I thought of getting a mini-PC and running Proxmox on it. To operate Proxmox, I needed an x86 machine for a bare-metal installation. After searching various online marketplaces, I came across a mini-PC that seemed to fulfill all my requirements (at least up to this point).

## Why have a choosen a mini-PC

Mini-PCs offer several advantages for a home lab server, including:

1. Affordability: Mini-PCs are generally more budget-friendly than full-sized desktops or dedicated server hardware.
2. Space-saving: With their compact form factor, mini-PCs occupy minimal space, making them perfect for small home offices or tight spaces.
3. Energy efficiency: Mini-PCs typically consume less power than larger PCs, reducing your energy costs and environmental impact.
4. Flexibility: You can easily upgrade components like RAM and storage to better suit your needs, as I did with the HP.

## Choosing a mini-PC

I settled on an HP MP9 G2 equipped with an Intel i5-6500T CPU, 8GB DDR4 2133P RAM (not really needed, but a nice thing to have), and a 125GB SSD. To beef up its performance, I upgraded it with a 512GB SSD and an additional 8GB of RAM. This configuration provided me with a powerful yet cost-effective solution for my home lab server. The total cost for this build is around 165 euros.

## Deploying Proxmox

Now, let's walk through the process of deploying Proxmox on the mini-PC.

1. Download Proxmox: Visit the [Proxmox website](https://www.proxmox.com/en/downloads) and download the latest Proxmox VE ISO.
2. Create a bootable USB drive: Use a tool like [Rufus](https://rufus.ie/en/) or [Etcher](https://www.balena.io/etcher) to create a bootable USB drive with the Proxmox ISO.
3. Install Proxmox: Plug the USB drive into your mini-PC, boot from it, and follow the on-screen instructions to install Proxmox.

## No network connection on the host

During my Proxmox deployment, I encountered a strange issue where the Proxmox host couldn't connect to the internet, even though the VMs and containers could. After half a day of trial and error, including reinstalling Proxmox and downgrading to version 6.x, I stumbled upon a forum post that discussed a similar problem.

The issue was that I had a corrupted `/etc/resolv.conf` file and had no entries. After I added my DNS server and the other default DNS entries, it worked. If you encounter a similar issue, be sure to check your `/etc/resolv.conf` file for errors. The solutio for this issue was found [here](https://forum.proxmox.com/threads/proxmox-ve-7-2-3-host-cant-reach-internet-but-vms-can.109435/).

## Conclusion

Upgrading to a budget-friendly mini-PC and deploying Proxmox has significantly improved my home lab server experience. I now have a relative powerful and flexible solution that allows me to explore DevOps, virtualization, and containerization with ease. If you're looking to build a home lab server for DevOps or similar purposes, I highly recommend considering a mini-PC and deploying Proxmox to it.

Happy experimenting and best of luck with your home lab adventures!